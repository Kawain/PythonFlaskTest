{% extends "layout.html" %}
{% block body %}
<div class="container">
    <div class="jumbotron mt-4">
        <h1>メモ (Flask版)</h1>
        <p>勉強用メモ。コピペした内容が多いです。<br>
            これは Python と、そのライブラリの <a href="http://flask.pocoo.org/" target="_blank">Flask</a> と、
            JavaScript（No jQuery） / HTML / CSS (Bootstrap4) / SQLite で作成しています。
        </p>
        <div class="btn-toolbar">
            <div class="btn-group mr-2">
                <a class="btn btn-primary" href="/" role="button">ホーム</a>
            </div>
            <div class="btn-group mr-2">
                <a class="btn btn-primary" href="/memo_insert" role="button">新規入力</a>
            </div>
            <form action="/" method="GET">
                <div class="btn-group mr-2">
                    <input class="form-control" type="search" placeholder="キーワード" name="q" value="{{dic.word}}"
                        required>
                </div>
                <div class="btn-group mr-2">
                    <button type="submit" class="btn btn-secondary">検索</button>
                </div>
            </form>
            <div class="btn-group mr-2">
                <a class="btn btn-secondary" href="/vacuum" role="button">vacuum {{dic.file_size}}KB</a>
            </div>
        </div>
    </div>
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th class="text-center">ID</th>
                <th class="text-center">カテゴリ</th>
                <th class="text-center">タイトル</th>
            </tr>
        </thead>
        <tbody>
            {%- for id, category_id, name, title in dic.lists %}
            <tr>
                <td>{{id}}</td>
                <td><a href="?id={{category_id}}">{{name}}</a></td>
                <td><a href="/detail/{{id}}">{{title}}</a></td>
            </tr>
            {%- endfor %}
        </tbody>
    </table>
    <div class="text-center my-4">
        <button class="btn" onclick="window.scrollTo(0,0);">上に戻る</button>
    </div>
</div>
{% endblock body %}